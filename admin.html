<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#4f46e5">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin.css?v=2.4">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="admin.js?v=2.4"></script>
    <script>
        console.log('JavaScript y√ºklendi!');
        console.log('showLogoutConfirmation fonksiyonu:', typeof showLogoutConfirmation);
    </script>
  </head>
  <body>
    <!-- Login Form -->
    <div id="login-container" class="login-container">
        <div class="login-form">
            <div class="login-header">
                <h2>üîê Admin Giri≈üi</h2>
                <p>Y√∂netici paneline eri≈üim i√ßin giri≈ü yapƒ±n</p>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <label for="adminId">Kullanƒ±cƒ± ID</label>
                    <input type="text" id="adminId" name="adminId" required placeholder="Kullanƒ±cƒ± ID'nizi girin">
                </div>
                
                <div class="input-group">
                    <label for="adminPassword">≈ûifre</label>
                    <input type="password" id="adminPassword" name="adminPassword" required placeholder="≈ûifrenizi girin">
                </div>
                
                <button type="submit" class="login-btn">
                    <span class="btn-icon">üîë</span>
                    Giri≈ü Yap
                </button>
                
                <div id="login-error" class="login-error" style="display: none;"></div>
            </form>
            
            <div class="login-footer">
                <small>G√ºvenli admin paneli - Sadece yetkili personel</small>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="admin-layout" style="display: none;">
        
        <!-- Dashboard Header -->
        <div class="dashboard-header">
            <div class="dashboard-header-content">
                <div class="dashboard-title">
                    <div class="dashboard-icon">
                        <i data-lucide="calendar" class="dashboard-icon-svg"></i>
                    </div>
                    <div>
                        <h1 class="dashboard-title-text">Admin Dashboard</h1>
                        <p class="dashboard-subtitle">Randevu Y√∂netim Sistemi</p>
                    </div>
                </div>
                <div class="dashboard-actions">
                    <button class="dashboard-action-btn" onclick="loadAppointments()" title="Yenile">
                        <i data-lucide="refresh-cw" class="dashboard-action-icon"></i>
                    </button>
                    <button class="dashboard-action-btn" onclick="showSettings()" title="Ayarlar">
                        <i data-lucide="settings" class="dashboard-action-icon"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Dashboard Overview -->
            <div class="dashboard-overview" id="dashboard-section">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <p class="stat-label">Toplam Randevu</p>
                                <p class="stat-value" id="totalAppointments">0</p>
                                <p class="stat-change positive">+12% ge√ßen aydan</p>
                            </div>
                            <div class="stat-icon calendar-icon">
                                <i data-lucide="calendar" class="stat-icon-svg"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <p class="stat-label">Bug√ºnk√º Randevular</p>
                                <p class="stat-value" id="todayAppointments">0</p>
                                <p class="stat-change info">3 saat i√ßinde</p>
                            </div>
                            <div class="stat-icon clock-icon">
                                <i data-lucide="clock" class="stat-icon-svg"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <p class="stat-label">Bekleyen Onaylar</p>
                                <p class="stat-value" id="pendingAppointments">0</p>
                                <p class="stat-change warning">Acil i≈ülem gerekli</p>
                            </div>
                            <div class="stat-icon alert-icon">
                                <i data-lucide="alert-circle" class="stat-icon-svg"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <p class="stat-label">Tamamlanan</p>
                                <p class="stat-value" id="completedAppointments">0</p>
                                <p class="stat-change positive">Bu ay</p>
                            </div>
                            <div class="stat-icon check-icon">
                                <i data-lucide="check-circle" class="stat-icon-svg"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts and Tables -->
                <div class="dashboard-content-grid">
                    <!-- Chart -->
                    <div class="dashboard-card">
                        <h3 class="dashboard-card-title">Aylƒ±k Randevu Trendi</h3>
                        <canvas id="appointmentChart" width="400" height="200"></canvas>
                    </div>

                    <!-- Recent Appointments -->
                    <div class="dashboard-card">
                        <h3 class="dashboard-card-title">Son Randevular</h3>
                        <div class="recent-appointments" id="recentAppointmentsList">
                            <!-- Recent appointments will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-card">
                    <h3 class="dashboard-card-title">Hƒ±zlƒ± ƒ∞≈ülemler</h3>
                    <div class="quick-actions-grid">
                        <button class="quick-action-btn" onclick="showAppointmentsList()">
                            <i data-lucide="list" class="quick-action-icon"></i>
                            <span class="quick-action-text">Randevu Listesi</span>
                        </button>
                        <button class="quick-action-btn" onclick="createTestAppointment()">
                            <i data-lucide="plus" class="quick-action-icon"></i>
                            <span class="quick-action-text">Yeni Randevu</span>
                        </button>
                        <button class="quick-action-btn" onclick="exportAppointments()">
                            <i data-lucide="download" class="quick-action-icon"></i>
                            <span class="quick-action-text">Dƒ±≈üa Aktar</span>
                        </button>
                        <button class="quick-action-btn" onclick="showSettings()">
                            <i data-lucide="settings" class="quick-action-icon"></i>
                            <span class="quick-action-text">Ayarlar</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Appointments List (Hidden by default) -->
            <div class="appointments-container" id="appointments-section" style="display: none;">
                
                <div class="filter-container">
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="dateFilter">üìÖ Tarih Filtresi</label>
                            <input type="date" id="dateFilter" placeholder="Tarihe g√∂re filtrele">
                        </div>
                        <div class="filter-group">
                            <label for="statusFilter">üìä Durum Filtresi</label>
                            <select id="statusFilter">
                                <option value="">T√ºm Durumlar</option>
                                <option value="pending">Bekleyen</option>
                                <option value="confirmed">Onaylandƒ±</option>
                                <option value="completed">Tamamlandƒ±</option>
                                <option value="cancelled">ƒ∞ptal Edildi</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="searchInput">üîç Arama</label>
                            <input type="text" id="searchInput" placeholder="ƒ∞sim, telefon veya not ara...">
                        </div>
                        <div class="filter-group">
                            <label for="timeFilter">üïí Saat Filtresi</label>
                            <select id="timeFilter">
                                <option value="">T√ºm Saatler</option>
                                <option value="morning">Sabah (08:00-12:00)</option>
                                <option value="afternoon">√ñƒüleden Sonra (12:00-17:00)</option>
                                <option value="evening">Ak≈üam (17:00-22:00)</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-actions">
                        <button id="clearFilters" class="filter-btn clear-filters-btn">
                            <span class="btn-icon">üßπ</span>
                            <span>Filtreleri Temizle</span>
                        </button>
                        <button id="exportBtn" class="filter-btn export-btn">
                            <span class="btn-icon">üìä</span>
                            <span>Dƒ±≈üa Aktar</span>
                        </button>
                    </div>
                </div>
                
                <div id="appointmentsList" class="appointments-list">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                        <p>Randevular y√ºkleniyor...</p>
                    </div>
                </div>
                
                <!-- Mobil Footer - Bo≈ü Alan -->
                <div class="mobile-footer">
                    <div class="mobile-footer-content">
                        <!-- Bo≈ü alan - sadece scroll i√ßin -->
                    </div>
                </div>
            </div>

        <!-- Completed Appointments Section -->
        <div id="completed-section" style="display: none;">
            <div class="section-header">
                <h2>‚úÖ Tamamlanan Randevular</h2>
                <p>Ba≈üarƒ±yla tamamlanan randevularƒ±n listesi</p>
            </div>
            
            <div class="filter-container">
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="completedDateFilter">üìÖ Tarih Filtresi</label>
                        <input type="date" id="completedDateFilter" placeholder="Tarihe g√∂re filtrele">
                    </div>
                    <div class="filter-group">
                        <label for="completedSearchFilter">üîç Arama</label>
                        <input type="text" id="completedSearchFilter" placeholder="ƒ∞sim veya telefon ara...">
                    </div>
                </div>
                <button id="clearCompletedFilters" class="simple-btn clear-filters-btn">üßπ Filtreleri Temizle</button>
            </div>
            
            <div id="completedAppointmentsList" class="appointments-list">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Tamamlanan randevular y√ºkleniyor...</p>
                </div>
            </div>
            
            <!-- Mobil Footer - Bo≈ü Alan -->
            <div class="mobile-footer">
                <div class="mobile-footer-content">
                    <!-- Bo≈ü alan - sadece scroll i√ßin -->
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendar-section" style="display: none;">
            <div class="section-header">
                <h2>üìÖ Takvim G√∂r√ºn√ºm√º</h2>
                <p>Randevularƒ±nƒ±zƒ± takvim formatƒ±nda g√∂r√ºnt√ºleyin</p>
            </div>
            <div class="calendar-container">
                <div class="calendar-header">
                    <button id="prevMonth" class="simple-btn calendar-nav-btn">‚Äπ √ñnceki</button>
                    <h3 id="currentMonth"></h3>
                    <button id="nextMonth" class="simple-btn calendar-nav-btn">Sonraki ‚Ä∫</button>
                </div>
                <div id="calendar" class="calendar-grid"></div>
            </div>
            
            <!-- Mobil Footer - Bo≈ü Alan -->
            <div class="mobile-footer">
                <div class="mobile-footer-content">
                    <!-- Bo≈ü alan - sadece scroll i√ßin -->
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" style="display: none;">
            <div class="section-header">
                <h2>‚öôÔ∏è Ayarlar</h2>
                <p>Sistem ayarlarƒ± ve konfig√ºrasyon</p>
            </div>
            <div class="settings-container">
                <div class="settings-group">
                    <h3>üïí √áalƒ±≈üma Saatleri</h3>
                    <div class="form-row">
                        <label>Ba≈ülangƒ±√ß Saati:</label>
                        <input type="time" id="startTime" value="09:00">
                    </div>
                    <div class="form-row">
                        <label>Biti≈ü Saati:</label>
                        <input type="time" id="endTime" value="18:00">
                    </div>
                </div>
                <div class="settings-group">
                    <h3>üìß Bildirimler</h3>
                    <div class="checkbox-group">
                        <label><input type="checkbox" checked> Email bildirimleri</label>
                        <label><input type="checkbox" checked> Yeni randevu bildirimi</label>
                        <label><input type="checkbox"> G√ºnl√ºk √∂zet</label>
                    </div>
                </div>
                <div class="settings-group">
                    <h3>üé® G√∂r√ºn√ºm</h3>
                    <div class="form-row">
                        <label>Tema:</label>
                        <select id="theme">
                            <option value="light">A√ßƒ±k</option>
                            <option value="dark">Koyu</option>
                        </select>
                    </div>
                </div>
                <button class="simple-btn save-settings-btn" onclick="saveSettings()">üíæ Ayarlarƒ± Kaydet</button>

                <!-- Admin Security Settings -->
                <div class="settings-group security-settings">
                    <h3>üîê Admin G√ºvenlik</h3>
                    <p class="security-description">Admin giri≈ü bilgilerinizi g√ºvenli bir ≈üekilde deƒüi≈ütirin</p>
                    
                    <div class="security-form">
                        <div class="current-admin-info">
                            <h4>üìù Mevcut Bilgiler</h4>
                            <div class="current-info-display">
                                <div class="info-item">
                                    <span class="info-label">Kullanƒ±cƒ± ID:</span>
                                    <span class="info-value" id="currentAdminId">admin</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Son Deƒüi≈üiklik:</span>
                                    <span class="info-value" id="lastPasswordChange">Hi√ß deƒüi≈ütirilmemi≈ü</span>
                                </div>
                            </div>
                        </div>

                        <div class="security-form-section">
                            <h4>üîÑ Bilgileri Deƒüi≈ütir</h4>
                            
                            <div class="form-group">
                                <label for="currentPassword">üîí Mevcut ≈ûifre</label>
                                <input type="password" id="currentPassword" placeholder="Mevcut ≈üifrenizi girin" required>
                            </div>

                            <div class="form-group">
                                <label for="newAdminId">üë§ Yeni Kullanƒ±cƒ± ID</label>
                                <input type="text" id="newAdminId" placeholder="Yeni kullanƒ±cƒ± ID (bo≈ü bƒ±rakƒ±labilir)" maxlength="20">
                                <small class="field-note">Bo≈ü bƒ±rakƒ±rsanƒ±z mevcut ID korunur</small>
                            </div>

                            <div class="form-group">
                                <label for="newPassword">üîë Yeni ≈ûifre</label>
                                <input type="password" id="newPassword" placeholder="Yeni ≈üifrenizi girin" required>
                                <div class="password-strength" id="passwordStrength"></div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">‚úÖ ≈ûifre Tekrar</label>
                                <input type="password" id="confirmPassword" placeholder="Yeni ≈üifrenizi tekrar girin" required>
                                <div class="password-match" id="passwordMatch"></div>
                            </div>

                            <div class="security-actions">
                                <button class="security-btn save-btn" onclick="changeAdminCredentials()">
                                    <span class="btn-icon">üîê</span>
                                    Bilgileri G√ºncelle
                                </button>
                                <button class="security-btn reset-btn" onclick="resetSecurityForm()">
                                    <span class="btn-icon">üîÑ</span>
                                    Formu Temizle
                                </button>
                            </div>
                        </div>

                        <div class="security-tips">
                            <h4>üí° G√ºvenlik ƒ∞pu√ßlarƒ±</h4>
                            <ul class="tips-list">
                                <li>≈ûifreniz en az 8 karakter olmalƒ±</li>
                                <li>B√ºy√ºk-k√º√ß√ºk harf, rakam ve √∂zel karakter kullanƒ±n</li>
                                <li>Kolay tahmin edilebilir ≈üifreler kullanmayƒ±n</li>
                                <li>≈ûifrenizi d√ºzenli olarak deƒüi≈ütirin</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mobil Footer - Bo≈ü Alan -->
            <div class="mobile-footer">
                <div class="mobile-footer-content">
                    <!-- Bo≈ü alan - sadece scroll i√ßin -->
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Confirmation Modals -->
    <div id="clearAllConfirmation" class="confirmation-overlay" style="display: none;">
        <div class="confirmation-modal">
            <div class="confirmation-header">
                <h3>‚ö†Ô∏è Dikkat!</h3>
                <p>T√ºm randevularƒ± silmek istediƒüinizden emin misiniz?</p>
            </div>
            <div class="confirmation-content">
                <p>Bu i≈ülem geri alƒ±namaz ve t√ºm randevu verilerini kalƒ±cƒ± olarak silecektir.</p>
            </div>
            <div class="confirmation-actions">
                <button class="confirmation-btn cancel-btn" onclick="hideClearAllConfirmation()">‚ùå ƒ∞ptal</button>
                <button class="confirmation-btn confirm-btn" onclick="clearAllAppointments()">üóëÔ∏è Evet, T√ºm√ºn√º Sil</button>
            </div>
        </div>
    </div>


</body>
</html> 