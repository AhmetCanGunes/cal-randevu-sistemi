<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Randevular</title>
    <link rel="stylesheet" href="admin.css?v=2.3">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Login Form -->
    <div id="login-container" class="login-container">
        <div class="login-form">
            <div class="login-header">
                <h2>ğŸ” Admin GiriÅŸi</h2>
                <p>YÃ¶netici paneline eriÅŸim iÃ§in giriÅŸ yapÄ±n</p>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <label for="adminId">KullanÄ±cÄ± ID</label>
                    <input type="text" id="adminId" name="adminId" required placeholder="KullanÄ±cÄ± ID'nizi girin">
                </div>
                
                <div class="input-group">
                    <label for="adminPassword">Åifre</label>
                    <input type="password" id="adminPassword" name="adminPassword" required placeholder="Åifrenizi girin">
                </div>
                
                <button type="submit" class="login-btn">
                    <span class="btn-icon">ğŸ”‘</span>
                    GiriÅŸ Yap
                </button>
                
                <div id="login-error" class="login-error" style="display: none;"></div>
            </form>
            
            <div class="login-footer">
                <small>GÃ¼venli admin paneli - Sadece yetkili personel</small>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="admin-layout" style="display: none;">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>Cal</h3>
                <span class="admin-badge">Admin</span>
            </div>
            
            <nav class="sidebar-menu">
                <a href="#" class="menu-item active" data-section="appointments">
                    <span class="menu-icon">ğŸ“‹</span>
                    <span class="menu-text">Randevular</span>
                </a>
                <a href="#" class="menu-item" data-section="completed">
                    <span class="menu-icon">âœ…</span>
                    <span class="menu-text">Tamamlananlar</span>
                </a>
                <a href="#" class="menu-item" data-section="calendar">
                    <span class="menu-icon">ğŸ“…</span>
                    <span class="menu-text">Takvim</span>
                </a>
                <a href="#" class="menu-item" data-section="customers">
                    <span class="menu-icon">ğŸ‘¥</span>
                    <span class="menu-text">MÃ¼ÅŸteriler</span>
                </a>
                <a href="#" class="menu-item" data-section="stats">
                    <span class="menu-icon">ğŸ“Š</span>
                    <span class="menu-text">Ä°statistikler</span>
                </a>
                <a href="#" class="menu-item" data-section="reports">
                    <span class="menu-icon">ğŸ“ˆ</span>
                    <span class="menu-text">Raporlar</span>
                </a>
                <a href="#" class="menu-item" data-section="settings">
                    <span class="menu-icon">âš™ï¸</span>
                    <span class="menu-text">Ayarlar</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <button class="menu-item exit-btn" onclick="logout()">
                    <span class="menu-icon">ğŸ”“</span>
                    <span class="menu-text">Ã‡Ä±kÄ±ÅŸ</span>
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="appointments-container" id="appointments-section">
            <div class="appointments-header">
                <h2>ğŸ“‹ Randevular</h2>
                                 <div class="header-actions">
                     <button id="testBtn" class="simple-btn">ğŸ§ª Test Ekle</button>
                     <button id="refreshBtn" class="simple-btn">ğŸ”„ Yenile</button>
                     <button id="clearBtn" class="simple-btn danger">ğŸ—‘ï¸ TÃ¼mÃ¼nÃ¼ Sil</button>
                     <button id="logoutBtn" class="logout-btn" onclick="logout()" title="GÃ¼venli Ã‡Ä±kÄ±ÅŸ">
                         <span class="logout-icon">ğŸ”“</span>
                         <span class="logout-text">Ã‡Ä±kÄ±ÅŸ</span>
                     </button>
                 </div>
            </div>
            
            <div class="filter-container">
                <input type="date" id="dateFilter" placeholder="Tarihe gÃ¶re filtrele">
                <select id="statusFilter">
                    <option value="">TÃ¼m Durumlar</option>
                    <option value="pending">Bekleyen</option>
                    <option value="confirmed">OnaylandÄ±</option>
                    <option value="completed">TamamlandÄ±</option>
                    <option value="cancelled">Ä°ptal Edildi</option>
                </select>
                <button id="clearFilters" class="simple-btn">Filtreleri Temizle</button>
            </div>
            
            <div id="appointmentsList" class="appointments-list">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Randevular yÃ¼kleniyor...</p>
                </div>
            </div>
        </div>

        <!-- Completed Appointments Section -->
        <div id="completed-section" style="display: none;">
            <div class="section-header">
                <h2>âœ… Tamamlanan Randevular</h2>
                <p>BaÅŸarÄ±yla tamamlanan randevularÄ±n listesi</p>
            </div>
            
            <div class="filter-container">
                <input type="date" id="completedDateFilter" placeholder="Tarihe gÃ¶re filtrele">
                <input type="text" id="completedSearchFilter" placeholder="Ä°sim veya telefon ara...">
                <button id="clearCompletedFilters" class="simple-btn">Filtreleri Temizle</button>
            </div>
            
            <div id="completedAppointmentsList" class="appointments-list">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Tamamlanan randevular yÃ¼kleniyor...</p>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendar-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“… Takvim GÃ¶rÃ¼nÃ¼mÃ¼</h2>
                <p>RandevularÄ±nÄ±zÄ± takvim formatÄ±nda gÃ¶rÃ¼ntÃ¼leyin</p>
            </div>
            <div class="calendar-container">
                <div class="calendar-header">
                    <button id="prevMonth" class="simple-btn">â€¹ Ã–nceki</button>
                    <h3 id="currentMonth"></h3>
                    <button id="nextMonth" class="simple-btn">Sonraki â€º</button>
                </div>
                <div id="calendar" class="calendar-grid"></div>
            </div>
        </div>

        <!-- Customers Section -->
        <div id="customers-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ‘¥ MÃ¼ÅŸteriler</h2>
                <p>MÃ¼ÅŸteri bilgileri ve randevu geÃ§miÅŸi</p>
            </div>
            <div class="customers-container">
                <div class="search-bar">
                    <input type="text" id="customerSearch" placeholder="MÃ¼ÅŸteri ara...">
                    <button class="simple-btn">ğŸ”</button>
                </div>
                <div id="customersList" class="customers-list"></div>
            </div>
        </div>

        <!-- Stats Section -->
        <div id="stats-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“Š Ä°statistikler</h2>
                <p>Randevu ve mÃ¼ÅŸteri istatistikleri</p>
            </div>
            <div class="stats-dashboard">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>ğŸ“ˆ Bu Ay</h3>
                        <div class="stat-number" id="thisMonthCount">0</div>
                        <p>Randevu</p>
                    </div>
                    <div class="stat-card">
                        <h3>âœ… Tamamlanan</h3>
                        <div class="stat-number" id="completedCount">0</div>
                        <p>Randevu</p>
                    </div>
                    <div class="stat-card">
                        <h3>â³ Bekleyen</h3>
                        <div class="stat-number" id="pendingCount">0</div>
                        <p>Randevu</p>
                    </div>
                    <div class="stat-card">
                        <h3>ğŸ‘¥ MÃ¼ÅŸteri</h3>
                        <div class="stat-number" id="customerCount">0</div>
                        <p>Toplam</p>
                    </div>
                </div>
                <div class="chart-container">
                    <h3>ğŸ“ˆ AylÄ±k Trend</h3>
                    <div id="monthlyChart" class="chart"></div>
                </div>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reports-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“ˆ Raporlar</h2>
                <p>DetaylÄ± raporlar ve analizler</p>
            </div>
            <div class="reports-container">
                <div class="report-filters">
                    <select id="reportType">
                        <option value="monthly">AylÄ±k Rapor</option>
                        <option value="weekly">HaftalÄ±k Rapor</option>
                        <option value="daily">GÃ¼nlÃ¼k Rapor</option>
                    </select>
                    <input type="month" id="reportMonth">
                    <button class="simple-btn" onclick="generateReport()">ğŸ“Š Rapor OluÅŸtur</button>
                    <button class="simple-btn" onclick="exportReport()">ğŸ“¥ Excel Ä°ndir</button>
                </div>
                <div id="reportContent" class="report-content"></div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" style="display: none;">
            <div class="section-header">
                <h2>âš™ï¸ Ayarlar</h2>
                <p>Sistem ayarlarÄ± ve konfigÃ¼rasyon</p>
            </div>
            <div class="settings-container">
                <div class="settings-group">
                    <h3>ğŸ•’ Ã‡alÄ±ÅŸma Saatleri</h3>
                    <div class="form-row">
                        <label>BaÅŸlangÄ±Ã§ Saati:</label>
                        <input type="time" id="startTime" value="09:00">
                    </div>
                    <div class="form-row">
                        <label>BitiÅŸ Saati:</label>
                        <input type="time" id="endTime" value="18:00">
                    </div>
                </div>
                <div class="settings-group">
                    <h3>ğŸ“§ Bildirimler</h3>
                    <div class="checkbox-group">
                        <label><input type="checkbox" checked> Email bildirimleri</label>
                        <label><input type="checkbox" checked> Yeni randevu bildirimi</label>
                        <label><input type="checkbox"> GÃ¼nlÃ¼k Ã¶zet</label>
                    </div>
                </div>
                <div class="settings-group">
                    <h3>ğŸ¨ GÃ¶rÃ¼nÃ¼m</h3>
                    <div class="form-row">
                        <label>Tema:</label>
                        <select id="theme">
                            <option value="light">AÃ§Ä±k</option>
                            <option value="dark">Koyu</option>
                        </select>
                    </div>
                </div>
                <button class="simple-btn" onclick="saveSettings()">ğŸ’¾ AyarlarÄ± Kaydet</button>

                <!-- Admin Security Settings -->
                <div class="settings-group security-settings">
                    <h3>ğŸ” Admin GÃ¼venlik</h3>
                    <p class="security-description">Admin giriÅŸ bilgilerinizi gÃ¼venli bir ÅŸekilde deÄŸiÅŸtirin</p>
                    
                    <div class="security-form">
                        <div class="current-admin-info">
                            <h4>ğŸ“ Mevcut Bilgiler</h4>
                            <div class="current-info-display">
                                <div class="info-item">
                                    <span class="info-label">KullanÄ±cÄ± ID:</span>
                                    <span class="info-value" id="currentAdminId">admin</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Son DeÄŸiÅŸiklik:</span>
                                    <span class="info-value" id="lastPasswordChange">HiÃ§ deÄŸiÅŸtirilmemiÅŸ</span>
                                </div>
                            </div>
                        </div>

                        <div class="security-form-section">
                            <h4>ğŸ”„ Bilgileri DeÄŸiÅŸtir</h4>
                            
                            <div class="form-group">
                                <label for="currentPassword">ğŸ”’ Mevcut Åifre</label>
                                <input type="password" id="currentPassword" placeholder="Mevcut ÅŸifrenizi girin" required>
                            </div>

                            <div class="form-group">
                                <label for="newAdminId">ğŸ‘¤ Yeni KullanÄ±cÄ± ID</label>
                                <input type="text" id="newAdminId" placeholder="Yeni kullanÄ±cÄ± ID (boÅŸ bÄ±rakÄ±labilir)" maxlength="20">
                                <small class="field-note">BoÅŸ bÄ±rakÄ±rsanÄ±z mevcut ID korunur</small>
                            </div>

                            <div class="form-group">
                                <label for="newPassword">ğŸ”‘ Yeni Åifre</label>
                                <input type="password" id="newPassword" placeholder="Yeni ÅŸifrenizi girin" required>
                                <div class="password-strength" id="passwordStrength"></div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">âœ… Åifre Tekrar</label>
                                <input type="password" id="confirmPassword" placeholder="Yeni ÅŸifrenizi tekrar girin" required>
                                <div class="password-match" id="passwordMatch"></div>
                            </div>

                            <div class="security-actions">
                                <button class="security-btn save-btn" onclick="changeAdminCredentials()">
                                    <span class="btn-icon">ğŸ”</span>
                                    Bilgileri GÃ¼ncelle
                                </button>
                                <button class="security-btn reset-btn" onclick="resetSecurityForm()">
                                    <span class="btn-icon">ğŸ”„</span>
                                    Formu Temizle
                                </button>
                            </div>
                        </div>

                        <div class="security-tips">
                            <h4>ğŸ’¡ GÃ¼venlik Ä°puÃ§larÄ±</h4>
                            <ul class="tips-list">
                                <li>Åifreniz en az 8 karakter olmalÄ±</li>
                                <li>BÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf, rakam ve Ã¶zel karakter kullanÄ±n</li>
                                <li>Kolay tahmin edilebilir ÅŸifreler kullanmayÄ±n</li>
                                <li>Åifrenizi dÃ¼zenli olarak deÄŸiÅŸtirin</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
    
    <script src="admin.js?v=2.3"></script>
</body>
</html> 