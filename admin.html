<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#4f46e5">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin.css?v=2.4">
    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>body { font-family: 'Inter', sans-serif; }</style>
    <script src="admin.js?v=2.4"></script>
    <script>
        console.log('JavaScript yÃ¼klendi!');
        console.log('showLogoutConfirmation fonksiyonu:', typeof showLogoutConfirmation);
    </script>
  </head>
  <body>
    <!-- Login Form -->
    <div id="login-container" class="login-container">
        <div class="login-form">
            <div class="login-header">
                <h2>ğŸ” Admin GiriÅŸi</h2>
                <p>YÃ¶netici paneline eriÅŸim iÃ§in giriÅŸ yapÄ±n</p>
            </div>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <label for="adminId">KullanÄ±cÄ± ID</label>
                    <input type="text" id="adminId" name="adminId" required placeholder="KullanÄ±cÄ± ID'nizi girin">
                </div>
                <div class="input-group">
                    <label for="adminPassword">Åifre</label>
                    <input type="password" id="adminPassword" name="adminPassword" required placeholder="Åifrenizi girin">
                </div>
                <button type="submit" class="login-btn">
                    <span class="btn-icon">ğŸ”‘</span>
                    GiriÅŸ Yap
                </button>
                <div id="login-error" class="login-error" style="display: none;"></div>
            </form>
            <div class="login-footer">
                <small>GÃ¼venli admin paneli - Sadece yetkili personel</small>
            </div>
        </div>
    </div>

    <!-- Modern Dashboard -->
    <div id="admin-panel" style="display: none;">
        <div class="max-w-6xl mx-auto py-8 px-4">
            <h1 class="text-3xl font-bold mb-6 flex items-center gap-2">
                <i data-lucide="layout-dashboard" class="w-8 h-8 text-blue-500"></i>
                Admin Dashboard
            </h1>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow p-6 flex flex-col gap-2">
                    <span class="text-gray-500">Toplam Randevu</span>
                    <span class="text-2xl font-bold" id="totalAppointments">0</span>
                </div>
                <div class="bg-white rounded-xl shadow p-6 flex flex-col gap-2">
                    <span class="text-gray-500">BugÃ¼nkÃ¼ Randevular</span>
                    <span class="text-2xl font-bold" id="todayAppointments">0</span>
                </div>
                <div class="bg-white rounded-xl shadow p-6 flex flex-col gap-2">
                    <span class="text-gray-500">Bekleyen Onaylar</span>
                    <span class="text-2xl font-bold" id="pendingAppointments">0</span>
                </div>
                <div class="bg-white rounded-xl shadow p-6 flex flex-col gap-2">
                    <span class="text-gray-500">Tamamlanan</span>
                    <span class="text-2xl font-bold" id="completedAppointments">0</span>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow p-6">
                    <h2 class="font-semibold mb-4">AylÄ±k Randevu Trendi</h2>
                    <canvas id="appointmentChart"></canvas>
                </div>
                <div class="bg-white rounded-xl shadow p-6">
                    <h2 class="font-semibold mb-4">Son Randevular</h2>
                    <div id="recentAppointmentsList"></div>
                </div>
            </div>
            
            <!-- HÄ±zlÄ± Ä°ÅŸlemler -->
            <div class="bg-white rounded-xl shadow p-6">
                <h2 class="font-semibold mb-4 flex items-center gap-2">
                    <i data-lucide="zap" class="w-5 h-5 text-yellow-500"></i>
                    HÄ±zlÄ± Ä°ÅŸlemler
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="showAppointmentsList()" class="flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-all group">
                        <i data-lucide="list" class="w-8 h-8 text-blue-600 mb-2 group-hover:scale-110 transition-transform"></i>
                        <span class="text-sm font-medium text-blue-900">Randevu Listesi</span>
                    </button>
                    <button onclick="createTestAppointment()" class="flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-all group">
                        <i data-lucide="plus" class="w-8 h-8 text-green-600 mb-2 group-hover:scale-110 transition-transform"></i>
                        <span class="text-sm font-medium text-green-900">Yeni Randevu</span>
                    </button>
                    <button onclick="exportAppointments()" class="flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-all group">
                        <i data-lucide="download" class="w-8 h-8 text-purple-600 mb-2 group-hover:scale-110 transition-transform"></i>
                        <span class="text-sm font-medium text-purple-900">DÄ±ÅŸa Aktar</span>
                    </button>
                    <button onclick="showSettings()" class="flex flex-col items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-all group">
                        <i data-lucide="settings" class="w-8 h-8 text-orange-600 mb-2 group-hover:scale-110 transition-transform"></i>
                        <span class="text-sm font-medium text-orange-900">Ayarlar</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Appointments List (Hidden by default) -->
    <div class="appointments-container" id="appointments-section" style="display: none;">
        
        <!-- Back to Dashboard Button -->
        <div class="max-w-6xl mx-auto py-4 px-4">
            <button onclick="showDashboard()" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors mb-4">
                <i data-lucide="arrow-left" class="w-5 h-5"></i>
                <span>Dashboard'a DÃ¶n</span>
            </button>
        </div>
        
        <div class="filter-container">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="dateFilter">ğŸ“… Tarih Filtresi</label>
                    <input type="date" id="dateFilter" placeholder="Tarihe gÃ¶re filtrele">
                </div>
                <div class="filter-group">
                    <label for="statusFilter">ğŸ“Š Durum Filtresi</label>
                    <select id="statusFilter">
                        <option value="">TÃ¼m Durumlar</option>
                        <option value="pending">Bekleyen</option>
                        <option value="confirmed">OnaylandÄ±</option>
                        <option value="completed">TamamlandÄ±</option>
                        <option value="cancelled">Ä°ptal Edildi</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchInput">ğŸ” Arama</label>
                    <input type="text" id="searchInput" placeholder="Ä°sim, telefon veya not ara...">
                </div>
                <div class="filter-group">
                    <label for="timeFilter">ğŸ•’ Saat Filtresi</label>
                    <select id="timeFilter">
                        <option value="">TÃ¼m Saatler</option>
                        <option value="morning">Sabah (08:00-12:00)</option>
                        <option value="afternoon">Ã–ÄŸleden Sonra (12:00-17:00)</option>
                        <option value="evening">AkÅŸam (17:00-22:00)</option>
                    </select>
                </div>
            </div>
            <div class="filter-actions">
                <button id="clearFilters" class="filter-btn clear-filters-btn">
                    <span class="btn-icon">ğŸ§¹</span>
                    <span>Filtreleri Temizle</span>
                </button>
                <button id="exportBtn" class="filter-btn export-btn">
                    <span class="btn-icon">ğŸ“Š</span>
                    <span>DÄ±ÅŸa Aktar</span>
                </button>
            </div>
        </div>
        
        <div id="appointmentsList" class="appointments-list">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Randevular yÃ¼kleniyor...</p>
            </div>
        </div>
        
        <!-- Mobil Footer - BoÅŸ Alan -->
        <div class="mobile-footer">
            <div class="mobile-footer-content">
                <!-- BoÅŸ alan - sadece scroll iÃ§in -->
            </div>
        </div>
    </div>

    <!-- Completed Appointments Section -->
    <div id="completed-section" style="display: none;">
        <div class="section-header">
            <h2>âœ… Tamamlanan Randevular</h2>
            <p>BaÅŸarÄ±yla tamamlanan randevularÄ±n listesi</p>
        </div>
        
        <div class="filter-container">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="completedDateFilter">ğŸ“… Tarih Filtresi</label>
                    <input type="date" id="completedDateFilter" placeholder="Tarihe gÃ¶re filtrele">
                </div>
                <div class="filter-group">
                    <label for="completedSearchFilter">ğŸ” Arama</label>
                    <input type="text" id="completedSearchFilter" placeholder="Ä°sim veya telefon ara...">
                </div>
            </div>
            <button id="clearCompletedFilters" class="simple-btn clear-filters-btn">ğŸ§¹ Filtreleri Temizle</button>
        </div>
        
        <div id="completedAppointmentsList" class="appointments-list">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Tamamlanan randevular yÃ¼kleniyor...</p>
            </div>
        </div>
        
        <!-- Mobil Footer - BoÅŸ Alan -->
        <div class="mobile-footer">
            <div class="mobile-footer-content">
                <!-- BoÅŸ alan - sadece scroll iÃ§in -->
            </div>
        </div>
    </div>

    <!-- Calendar Section -->
    <div id="calendar-section" style="display: none;">
        <div class="section-header">
            <h2>ğŸ“… Takvim GÃ¶rÃ¼nÃ¼mÃ¼</h2>
            <p>RandevularÄ±nÄ±zÄ± takvim formatÄ±nda gÃ¶rÃ¼ntÃ¼leyin</p>
        </div>
        <div class="calendar-container">
            <div class="calendar-header">
                <button id="prevMonth" class="simple-btn calendar-nav-btn">â€¹ Ã–nceki</button>
                <h3 id="currentMonth"></h3>
                <button id="nextMonth" class="simple-btn calendar-nav-btn">Sonraki â€º</button>
            </div>
            <div id="calendar" class="calendar-grid"></div>
        </div>
        
        <!-- Mobil Footer - BoÅŸ Alan -->
        <div class="mobile-footer">
            <div class="mobile-footer-content">
                <!-- BoÅŸ alan - sadece scroll iÃ§in -->
            </div>
        </div>
    </div>

    <!-- Settings Section -->
    <div id="settings-section" style="display: none;">
        <div class="section-header">
            <h2>âš™ï¸ Ayarlar</h2>
            <p>Sistem ayarlarÄ± ve konfigÃ¼rasyon</p>
        </div>
        <div class="settings-container">
            <div class="settings-group">
                <h3>ğŸ•’ Ã‡alÄ±ÅŸma Saatleri</h3>
                <div class="form-row">
                    <label>BaÅŸlangÄ±Ã§ Saati:</label>
                    <input type="time" id="startTime" value="09:00">
                </div>
                <div class="form-row">
                    <label>BitiÅŸ Saati:</label>
                    <input type="time" id="endTime" value="18:00">
                </div>
            </div>
            <div class="settings-group">
                <h3>ğŸ“§ Bildirimler</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" checked> Email bildirimleri</label>
                    <label><input type="checkbox" checked> Yeni randevu bildirimi</label>
                    <label><input type="checkbox"> GÃ¼nlÃ¼k Ã¶zet</label>
                </div>
            </div>
            <div class="settings-group">
                <h3>ğŸ¨ GÃ¶rÃ¼nÃ¼m</h3>
                <div class="form-row">
                    <label>Tema:</label>
                    <select id="theme">
                        <option value="light">AÃ§Ä±k</option>
                        <option value="dark">Koyu</option>
                    </select>
                </div>
            </div>
            <button class="simple-btn save-settings-btn" onclick="saveSettings()">ğŸ’¾ AyarlarÄ± Kaydet</button>

            <!-- Admin Security Settings -->
            <div class="settings-group security-settings">
                <h3>ï¿½ï¿½ Admin GÃ¼venlik</h3>
                <p class="security-description">Admin giriÅŸ bilgilerinizi gÃ¼venli bir ÅŸekilde deÄŸiÅŸtirin</p>
                
                <div class="security-form">
                    <div class="current-admin-info">
                        <h4>ï¿½ï¿½ Mevcut Bilgiler</h4>
                        <div class="current-info-display">
                            <div class="info-item">
                                <span class="info-label">KullanÄ±cÄ± ID:</span>
                                <span class="info-value" id="currentAdminId">admin</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Son DeÄŸiÅŸiklik:</span>
                                <span class="info-value" id="lastPasswordChange">HiÃ§ deÄŸiÅŸtirilmemiÅŸ</span>
                            </div>
                        </div>
                    </div>

                    <div class="security-form-section">
                        <h4>ğŸ”„ Bilgileri DeÄŸiÅŸtir</h4>
                        
                        <div class="form-group">
                            <label for="currentPassword">ğŸ”’ Mevcut Åifre</label>
                            <input type="password" id="currentPassword" placeholder="Mevcut ÅŸifrenizi girin" required>
                        </div>

                        <div class="form-group">
                            <label for="newAdminId">ğŸ‘¤ Yeni KullanÄ±cÄ± ID</label>
                            <input type="text" id="newAdminId" placeholder="Yeni kullanÄ±cÄ± ID (boÅŸ bÄ±rakÄ±labilir)" maxlength="20">
                            <small class="field-note">BoÅŸ bÄ±rakÄ±rsanÄ±z mevcut ID korunur</small>
                        </div>

                        <div class="form-group">
                            <label for="newPassword">ğŸ”‘ Yeni Åifre</label>
                            <input type="password" id="newPassword" placeholder="Yeni ÅŸifrenizi girin" required>
                            <div class="password-strength" id="passwordStrength"></div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">âœ… Åifre Tekrar</label>
                            <input type="password" id="confirmPassword" placeholder="Yeni ÅŸifrenizi tekrar girin" required>
                            <div class="password-match" id="passwordMatch"></div>
                        </div>

                        <div class="security-actions">
                            <button class="security-btn save-btn" onclick="changeAdminCredentials()">
                                <span class="btn-icon">ğŸ”</span>
                                Bilgileri GÃ¼ncelle
                            </button>
                            <button class="security-btn reset-btn" onclick="resetSecurityForm()">
                                <span class="btn-icon">ğŸ”„</span>
                                Formu Temizle
                            </button>
                        </div>
                    </div>

                    <div class="security-tips">
                        <h4>ğŸ’¡ GÃ¼venlik Ä°puÃ§larÄ±</h4>
                        <ul class="tips-list">
                            <li>Åifreniz en az 8 karakter olmalÄ±</li>
                            <li>BÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf, rakam ve Ã¶zel karakter kullanÄ±n</li>
                            <li>Kolay tahmin edilebilir ÅŸifreler kullanmayÄ±n</li>
                            <li>Åifrenizi dÃ¼zenli olarak deÄŸiÅŸtirin</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobil Footer - BoÅŸ Alan -->
        <div class="mobile-footer">
            <div class="mobile-footer-content">
                <!-- BoÅŸ alan - sadece scroll iÃ§in -->
            </div>
        </div>
    </div>
    </div>

    <!-- Confirmation Modals -->
    <div id="clearAllConfirmation" class="confirmation-overlay" style="display: none;">
        <div class="confirmation-modal">
            <div class="confirmation-header">
                <h3>âš ï¸ Dikkat!</h3>
                <p>TÃ¼m randevularÄ± silmek istediÄŸinizden emin misiniz?</p>
            </div>
            <div class="confirmation-content">
                <p>Bu iÅŸlem geri alÄ±namaz ve tÃ¼m randevu verilerini kalÄ±cÄ± olarak silecektir.</p>
            </div>
            <div class="confirmation-actions">
                <button class="confirmation-btn cancel-btn" onclick="hideClearAllConfirmation()">âŒ Ä°ptal</button>
                <button class="confirmation-btn confirm-btn" onclick="clearAllAppointments()">ğŸ—‘ï¸ Evet, TÃ¼mÃ¼nÃ¼ Sil</button>
            </div>
        </div>
    </div>


</body>
</html> 